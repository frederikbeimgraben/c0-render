#use "vector.c0"
#use "math.c0"
#use "geometry.c0"
#use <util>
#use <conio>
#use "drand.c0"

typedef struct Ray* ray;

struct Ray {
    vector origin;
    vector direction;
};

ray Ray(vector o, vector d) {
    ray result = alloc(struct Ray);
    result->origin = o;
    result->direction = d;
    return result;
}

vector point_at_param(ray r, double p) {
    return vadd(cprm(r->direction, p), r->origin);
}

